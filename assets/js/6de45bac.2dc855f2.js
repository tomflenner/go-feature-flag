"use strict";(self.webpackChunkgo_feature_flag_website=self.webpackChunkgo_feature_flag_website||[]).push([[52315],{70262:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"go_module/data_collection/azure_blob_storage","title":"Azure Blob Storage Exporter","description":"The Azure Blob Storage exporter will collect the data and create a new file in a specific folder everytime we send the data.","source":"@site/versioned_docs/version-v1.39.1/go_module/data_collection/azure_blob_storage.md","sourceDirName":"go_module/data_collection","slug":"/go_module/data_collection/azure_blob_storage","permalink":"/docs/v1.39.1/go_module/data_collection/azure_blob_storage","draft":false,"unlisted":false,"editUrl":"https://github.com/thomaspoignant/go-feature-flag/tree/main/website/versioned_docs/version-v1.39.1/go_module/data_collection/azure_blob_storage.md","tags":[],"version":"v1.39.1","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"S3 Exporter","permalink":"/docs/v1.39.1/go_module/data_collection/s3"},"next":{"title":"Google Cloud Storage Exporter","permalink":"/docs/v1.39.1/go_module/data_collection/google_cloud_storage"}}');var n=o(74848),i=o(28453);const a={sidebar_position:2},s="Azure Blob Storage Exporter",l={},d=[{value:"Configuration example",id:"configuration-example",level:2},{value:"Configuration fields",id:"configuration-fields",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"azure-blob-storage-exporter",children:"Azure Blob Storage Exporter"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.strong,{children:"Azure Blob Storage exporter"})," will collect the data and create a new file in a specific folder everytime we send the data."]}),"\n",(0,n.jsxs)(t.p,{children:["Everytime the ",(0,n.jsx)(t.code,{children:"FlushInterval"})," or ",(0,n.jsx)(t.code,{children:"MaxEventInMemory"})," is reached, a new file will be added to Google Cloud Storage."]}),"\n",(0,n.jsx)(t.admonition,{type:"info",children:(0,n.jsxs)(t.p,{children:["If for some reason the Azure Blob Storage upload failed, we will keep the data in memory and retry to add it the next time we reach ",(0,n.jsx)(t.code,{children:"FlushInterval"})," or ",(0,n.jsx)(t.code,{children:"MaxEventInMemory"}),"."]})}),"\n",(0,n.jsx)(t.h2,{id:"configuration-example",children:"Configuration example"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-go",metastring:"showLineNumbers",children:'ffclient.Config{\n    // ...\n   DataExporter: ffclient.DataExporter{\n        // ...\n        Exporter: &azureexporter.Exporter{\n            Container:   "test-goff",\n            Format:   "json",\n            Path:     "yourPath",\n            Filename: "flag-variation-{{ .Timestamp}}.{{ .Format}}",\n            AccountName: "goff",\n            AccountKey: "XXXX",\n        },\n    },\n    // ...\n}\n'})}),"\n",(0,n.jsx)(t.h2,{id:"configuration-fields",children:"Configuration fields"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Field"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Container "})}),(0,n.jsx)(t.td,{children:"Name of your Azure Blob Storage Container."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"AccountName "})}),(0,n.jsx)(t.td,{children:"This is the name of your Azure Blob Storage account."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"AccountKey "})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," This is the secret key of your Azure Blob Storage account."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"CsvTemplate"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," CsvTemplate is used if your output format is CSV. This field will be ignored if you are using format other than CSV. You can decide which fields you want in your CSV line with a go-template syntax, please check ",(0,n.jsx)(t.a,{href:"https://github.com/thomaspoignant/go-feature-flag/blob/main/internal/exporter/feature_event.go",children:"internal/exporter/feature_event.go"})," to see what are the fields available.",(0,n.jsx)("br",{}),(0,n.jsx)(t.strong,{children:"Default:"})," ",(0,n.jsx)(t.code,{children:"{{ .Kind}};{{ .ContextKind}};{{ .UserKey}};{{ .CreationDate}};{{ .Key}};{{ .Variation}};{{ .Value}};{{ .Default}};{{ .Source}}\\n"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Filename"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," Filename is the name of your output file. You can use a templated config to define the name of your exported files.",(0,n.jsx)("br",{}),"Available replacements are ",(0,n.jsx)(t.code,{children:"{{ .Hostname}}"}),", ",(0,n.jsx)(t.code,{children:"{{ .Timestamp}"}),"} and ",(0,n.jsx)(t.code,{children:"{{ .Format}}"}),(0,n.jsx)("br",{}),"Default: ",(0,n.jsx)(t.code,{children:"flag-variation-{{ .Hostname}}-{{ .Timestamp}}.{{ .Format}}"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Format"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," Format is the output format you want in your exported file. Available formats are ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"JSON"})}),", ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"CSV"})}),", ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"Parquet"})}),". ",(0,n.jsxs)(t.em,{children:["(Default: ",(0,n.jsx)(t.code,{children:"JSON"}),")"]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Options"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," An instance of ",(0,n.jsx)(t.code,{children:"option.ClientOption"})," that configures your access to Google Cloud. ",(0,n.jsx)("br",{})," Check ",(0,n.jsx)(t.a,{href:"https://cloud.google.com/docs/authentication",children:"this documentation for more info"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"Path "})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," The location of the directory in your container."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"ParquetCompressionCodec"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.em,{children:"(optional)"})," ParquetCompressionCodec is the parquet compression codec for better space efficiency. ",(0,n.jsx)(t.a,{href:"https://github.com/apache/parquet-format/blob/master/Compression.md",children:"Available options"})," ",(0,n.jsxs)(t.em,{children:["(Default: ",(0,n.jsx)(t.code,{children:"SNAPPY"}),")"]})]})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["Check the ",(0,n.jsx)(t.a,{href:"https://pkg.go.dev/github.com/thomaspoignant/go-feature-flag/exporter/azureexporter",children:"godoc for full details"}),"."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>s});var r=o(96540);const n={},i=r.createContext(n);function a(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);