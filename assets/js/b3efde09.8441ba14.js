"use strict";(self.webpackChunkgo_feature_flag_website=self.webpackChunkgo_feature_flag_website||[]).push([[34627],{5268:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>x,frontMatter:()=>o,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"configure_flag/target-with-flags","title":"\ud83c\udfaf Target with Flags","description":"How to create a rule to target specific users","source":"@site/docs/configure_flag/target-with-flags.mdx","sourceDirName":"configure_flag","slug":"/configure_flag/target-with-flags","permalink":"/docs/next/configure_flag/target-with-flags","draft":false,"unlisted":false,"editUrl":"https://github.com/thomaspoignant/go-feature-flag/tree/main/website/docs/configure_flag/target-with-flags.mdx","tags":[],"version":"current","sidebarPosition":20,"frontMatter":{"sidebar_position":20,"description":"How to create a rule to target specific users"},"sidebar":"tutorialSidebar","previous":{"title":"\ud83c\udd95 Create Flags","permalink":"/docs/next/configure_flag/create-flags"},"next":{"title":"\ud83e\udea3 Custom Bucketing","permalink":"/docs/next/configure_flag/custom-bucketing"}}');var i=t(74848),s=t(28453),a=t(65537),l=t(79329);const o={sidebar_position:20,description:"How to create a rule to target specific users"},c="\ud83c\udfaf Target with Flags",d={},h=[{value:"Overview",id:"overview",level:2},{value:"Define a targeting rule",id:"define-a-targeting-rule",level:2},{value:"Rule Format Details",id:"rule-format-details",level:2},{value:"Query formats",id:"query-formats",level:2},{value:"nikunjy/rules format",id:"nikunjyrules-format",level:3},{value:"Examples",id:"examples",level:4},{value:"JsonLogic format",id:"jsonlogic-format",level:3},{value:"Examples",id:"examples-1",level:4},{value:"Environments",id:"environments",level:2},{value:"Get the rule name in the metadata",id:"get-the-rule-name-in-the-metadata",level:2}];function u(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-target-with-flags",children:"\ud83c\udfaf Target with Flags"})}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(n.p,{children:"This category explains how to use flag targeting to control which of your customers receive which variation of a feature flag."}),"\n",(0,i.jsxs)(n.p,{children:["Targeting is done based on the ",(0,i.jsx)(n.a,{href:"../concepts/evaluation-context",children:"evaluation context"})," associated to the evaluation request.\nGO Feature Flag evaluation context are data objects representing users, devices, organizations, and other entities that interact with your app."]}),"\n",(0,i.jsx)(n.p,{children:"Each feature flag can have a set of targeting rules that define the conditions under which a variation should be served.\nWhen a flag is evaluated, the targeting rules are evaluated against the evaluation context to determine which variation to serve."}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsxs)(n.p,{children:["The targeting rules are evaluated in the order they are defined in the flag configuration.",(0,i.jsx)(n.br,{}),"\n","The first rule that matches the evaluation context will determine the variation to serve."]})]}),"\n",(0,i.jsx)(n.h2,{id:"define-a-targeting-rule",children:"Define a targeting rule"}),"\n",(0,i.jsxs)(n.p,{children:["A targeting rule is a configuration that allows you to serve a variation based on some conditions.",(0,i.jsx)(n.br,{}),"\n","You can have as many rules as you want in your flag configuration."]}),"\n",(0,i.jsxs)(n.p,{children:["To create your first rule you need to add a ",(0,i.jsx)(n.code,{children:"targeting"})," field in your flag configuration."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'scream-level-feature:\n  variations:\n    low: "whisper"\n    medium: "talk"\n    high: "scream"\n  # highlight-start\n  targeting:\n    - query: targetingKey eq "12345"\n      variation: high\n    - query: targetingKey eq "678910"\n      variation: medium\n  # highlight-end\n  defaultRule:\n    variation: low\n'})}),"\n",(0,i.jsxs)(n.p,{children:["A minimum rule configuration requires a ",(0,i.jsx)(n.code,{children:"query"})," field and a ",(0,i.jsx)(n.code,{children:"variation"})," field to define the condition and the variation to serve."]}),"\n",(0,i.jsxs)(n.p,{children:["If you have more advanced needs you can also have a percentage repartition or have a progressive rollout for this, check the ",(0,i.jsx)(n.a,{href:"#rule-format-details",children:"rule format details"})," section for more information."]}),"\n",(0,i.jsx)(n.h2,{id:"rule-format-details",children:"Rule Format Details"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"query"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("sup",{children:(0,i.jsx)("sup",{children:"\u26a0\ufe0f mandatory"})})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsxs)("p",{children:[(0,i.jsx)(n.strong,{children:"This field is mandatory in every rule used in the targeting field."})," ",(0,i.jsx)("br",{})," Query represents the condition to apply the rule."]}),(0,i.jsxs)("p",{children:["GO Feature Flag supports 2 different types of query format:",(0,i.jsx)("br",{}),"\xa0\xa0- ",(0,i.jsx)(n.code,{children:"nikunjy/rules"})," format",(0,i.jsx)("br",{}),"\xa0\xa0- ",(0,i.jsx)(n.code,{children:"JsonLogic"})," format"]}),(0,i.jsxs)("p",{children:["\u2139\ufe0f See ",(0,i.jsx)(n.a,{href:"#query-formats",children:"query formats section"})," to have the syntaxes."]})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"disabled"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("sup",{children:(0,i.jsx)("sup",{children:"optional"})})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsxs)("p",{children:["Set to ",(0,i.jsx)("code",{children:"true"})," if you want to disable the rule."]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Default:"})," ",(0,i.jsx)("code",{children:"true"}),"."]})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"name"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("sup",{children:(0,i.jsx)("sup",{children:"optional"})})]}),(0,i.jsxs)(n.td,{children:["Name of your rule. This is needed when your are updating a rule using a ",(0,i.jsx)(n.a,{href:"./rollout-strategies/scheduled",children:"scheduled rollout"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"percentage"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("sup",{children:(0,i.jsx)("sup",{children:"optional"})})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)("p",{children:"Represents the percentage we should give to each variation."}),(0,i.jsxs)("pre",{children:["percentage:",(0,i.jsx)("br",{}),"  variationA: 10.59",(0,i.jsx)("br",{}),"  variationB: 9.41",(0,i.jsx)("br",{}),"  variationC: 80"]}),(0,i.jsx)("p",{children:"The format is the name of the variation and the percentage for this one."})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"progressiveRollout"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("sup",{children:(0,i.jsx)("sup",{children:"optional"})})]}),(0,i.jsxs)(n.td,{children:[(0,i.jsx)("p",{children:"Allows you to ramp up the percentage of your flag over time."}),(0,i.jsx)("p",{children:"You can decide at which percentage you start and end with in your release ramp. Before the start date we will serve the initial percentage and afterwards, we will serve the end percentage."}),(0,i.jsx)("p",{children:(0,i.jsxs)("i",{children:["See ",(0,i.jsx)("a",{href:"./rollout/progressive",children:"progressive rollout"})," to have more info on how to use it."]})})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.strong,{children:"variation"})," ",(0,i.jsx)("br",{}),(0,i.jsx)("sup",{children:(0,i.jsx)("sup",{children:"optional"})})]}),(0,i.jsx)(n.td,{children:"Name of the variation to return."})]})]})]}),"\n",(0,i.jsxs)(n.admonition,{title:"Don't forget to return a variation.",type:"warning",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"variation"}),", ",(0,i.jsx)(n.code,{children:"percentage"})," and ",(0,i.jsx)(n.code,{children:"progressiveRollout"})," are optional but you ",(0,i.jsx)(n.strong,{children:"must have at least one of the three"}),"."]}),(0,i.jsxs)(n.p,{children:["If you have more than one field we will use the first one in the order\n",(0,i.jsx)(n.code,{children:"progressiveRollout"})," > ",(0,i.jsx)(n.code,{children:"percentage"})," > ",(0,i.jsx)(n.code,{children:"variation"}),"."]})]}),"\n",(0,i.jsx)(n.h2,{id:"query-formats",children:"Query formats"}),"\n",(0,i.jsx)(n.h3,{id:"nikunjyrules-format",children:"nikunjy/rules format"}),"\n",(0,i.jsxs)(n.p,{children:["GO Feature Flag supports the ",(0,i.jsx)(n.a,{href:"https://github.com/nikunjy/rules",children:(0,i.jsx)(n.code,{children:"nikunjy/rules"})})," rule format, based on the GO library."]}),"\n",(0,i.jsxs)(n.p,{children:["All the operations can be written in capitalized or lowercase characters (ex: ",(0,i.jsx)(n.code,{children:"eq"})," or ",(0,i.jsx)(n.code,{children:"EQ"})," can be used).\nLogical Operations supported are ",(0,i.jsx)(n.code,{children:"AND"})," & ",(0,i.jsx)(n.code,{children:"OR"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Compare Expression and their definitions (",(0,i.jsx)(n.code,{children:"a|b"})," means you can use one of either ",(0,i.jsx)(n.code,{children:"a"})," or ",(0,i.jsx)(n.code,{children:"b"}),"):"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{style:{textAlign:"center"},children:"Operator"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"eq"}),", ",(0,i.jsx)(n.code,{children:"=="})]}),(0,i.jsx)(n.td,{children:"equals to"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"ne"}),", ",(0,i.jsx)(n.code,{children:"!="})]}),(0,i.jsx)(n.td,{children:"not equals to"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"lt"}),", ",(0,i.jsx)(n.code,{children:"<"})]}),(0,i.jsx)(n.td,{children:"less than"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"gt"}),", ",(0,i.jsx)(n.code,{children:">"})]}),(0,i.jsx)(n.td,{children:"greater than"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"le"}),", ",(0,i.jsx)(n.code,{children:"<="})]}),(0,i.jsx)(n.td,{children:"less than equal to"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{style:{textAlign:"center"},children:[(0,i.jsx)(n.code,{children:"ge"}),", ",(0,i.jsx)(n.code,{children:">="})]}),(0,i.jsx)(n.td,{children:"greater than equal to"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"co"})}),(0,i.jsx)(n.td,{children:"contains"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"sw"})}),(0,i.jsx)(n.td,{children:"starts with"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"ew"})}),(0,i.jsx)(n.td,{children:"ends with"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"in"})}),(0,i.jsx)(n.td,{children:"in a list"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"pr"})}),(0,i.jsx)(n.td,{children:"present"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{style:{textAlign:"center"},children:(0,i.jsx)(n.code,{children:"not"})}),(0,i.jsx)(n.td,{children:"not of a logical expression"})]})]})]}),"\n",(0,i.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select a specific user: ",(0,i.jsx)(n.code,{children:'key eq "example@example.com"'})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select all identified users: ",(0,i.jsx)(n.code,{children:"anonymous ne true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select a user with a custom property: ",(0,i.jsx)(n.code,{children:'userId eq "12345"'})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select on multiple criteria:\n",(0,i.jsxs)(n.em,{children:["All users with ids finishing by ",(0,i.jsx)(n.code,{children:"@test.com"})," that have the role ",(0,i.jsx)(n.code,{children:"backend engineer"})," in the ",(0,i.jsx)(n.code,{children:"pro"})," environment for the\ncompany ",(0,i.jsx)(n.code,{children:"go-feature-flag"})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'(key ew "@test.com") and (role eq "backend engineer") and (env eq "pro") and (company eq "go-feature-flag")\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"jsonlogic-format",children:"JsonLogic format"}),"\n",(0,i.jsxs)(n.p,{children:["GO Feature Flag also supports the ",(0,i.jsx)(n.a,{href:"http://jsonlogic.com/",children:(0,i.jsx)(n.code,{children:"JsonLogic"})})," format, based on the GO library ",(0,i.jsx)(n.a,{href:"https://github.com/diegoholiveira/jsonlogic",children:(0,i.jsx)(n.code,{children:"diegoholiveira/jsonlogic"})})," library."]}),"\n",(0,i.jsxs)(n.p,{children:["To use a JsonLogic query, you need to write your query in a JSON format as a JSON string in the ",(0,i.jsx)(n.code,{children:"query"})," field.",(0,i.jsx)(n.br,{}),"\n","The query must be a valid JSON string that represents a ",(0,i.jsx)(n.code,{children:"JsonLogic"})," expression."]}),"\n",(0,i.jsxs)(n.p,{children:["The rule should return ",(0,i.jsx)(n.code,{children:"true"})," if the user matches the rule, anything else will be considered as ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(n.admonition,{title:"JsonLogic Operations",type:"info",children:(0,i.jsxs)(n.p,{children:["Check all the supported operations in the ",(0,i.jsx)(n.a,{href:"http://jsonlogic.com/operations.html",children:"JsonLogic documentation"}),"."]})}),"\n",(0,i.jsx)(n.h4,{id:"examples-1",children:"Examples"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select a specific user: ",(0,i.jsx)(n.code,{children:'{ "==" : [ { "var" : "key" }, "example@example.com"]}'})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select all identified users: ",(0,i.jsx)(n.code,{children:'{ "!=" : [ { "var" : "anonymous" }, true]}'})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select a user with a custom property: ",(0,i.jsx)(n.code,{children:'{ "==" : [ { "var" : "userId" }, "12345"]}'})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select on multiple criteria:\n",(0,i.jsxs)(n.em,{children:["All users with ids finishing by ",(0,i.jsx)(n.code,{children:"@test.com"})," that have the role ",(0,i.jsx)(n.code,{children:"backend engineer"})," in the ",(0,i.jsx)(n.code,{children:"pro"})," environment for the\ncompany ",(0,i.jsx)(n.code,{children:"go-feature-flag"})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{"and": [{"endsWith": [{"var": "ids"}, "@test.com"]}, {"==": [{"var": "role"}, "backend engineer"]}, {"==": [{"var": "environment"}, "pro"]}, {"==": [{"var": "company"}, "go-feature-flag"]}]}\n'})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"environments",children:"Environments"}),"\n",(0,i.jsxs)(n.p,{children:["When you initialise ",(0,i.jsx)(n.code,{children:"go-feature-flag"})," you can set an ",(0,i.jsx)(n.strong,{children:"environment"})," for this GO Feature Flag instance."]}),"\n",(0,i.jsxs)(a.A,{groupId:"code",children:[(0,i.jsx)(l.A,{value:"relayproxy",label:"Relay Proxy",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",metastring:'title="goff-proxy.yaml"',children:"# ...\n# highlight-start\nevaluationContextEnrichment:\n  env: prod\n# highlight-end\n# ...\n"})})}),(0,i.jsx)(l.A,{value:"go",label:"GO Module",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'ffclient.Init(ffclient.Config{\n  // ...\n  // highlight-next-line\n  Environment:    "prod",\n  // ...\n})\n'})})})]}),"\n",(0,i.jsxs)(n.p,{children:["When an environment is set, it adds a new field in your evaluation context called ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"env"})})," that you can use in your queries.\nIt means that you can decide to activate a flag only for some ",(0,i.jsx)(n.strong,{children:"environment"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example of flag configuration based on the environment:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'my-flag:\n  variations:\n    A: "A"\n    B: "B"\n    C: "C"\n  targeting:\n    - name: Target pre environment\n      # highlight-next-line\n      query: env eq "pre"\n      variation: A\n    - name: Target pro environment\n      # highlight-next-line\n      query: env eq "pro"\n      variation: B\n  defaultRule:\n    variation: C\n'})}),"\n",(0,i.jsx)(n.h2,{id:"get-the-rule-name-in-the-metadata",children:"Get the rule name in the metadata"}),"\n",(0,i.jsxs)(n.p,{children:["When you use a rule in your targeting, you can get the name of the rule in the metadata of the variation.",(0,i.jsx)(n.br,{}),"\n","The information on what rule has been used to serve the variation is available in the metadata of the variation in the field called ",(0,i.jsx)(n.code,{children:"evaluatedRuleName"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you are interested about this information, you have to name your rules by adding the field ",(0,i.jsx)(n.code,{children:"name"})," in your rule. This name will be extract and added in the ",(0,i.jsx)(n.code,{children:"evaluatedRuleName"})," field of the metadata."]})]})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},79329:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var r=t(18215);const i={tabItem:"tabItem_Ymn6"};var s=t(74848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(i.tabItem,a),hidden:t,children:n})}},65537:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(96540),i=t(18215),s=t(65627),a=t(56347),l=t(50372),o=t(30604),c=t(11861),d=t(78749);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:i}}=e;return{value:n,label:t,attributes:r,default:i}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function x(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function j(e){let{queryString:n=!1,groupId:t}=e;const i=(0,a.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(i.location.search);n.set(s,e),i.replace({...i.location,search:n.toString()})}),[s,i])]}function g(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,s=u(e),[a,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!x({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s}))),[c,h]=j({queryString:t,groupId:i}),[g,p]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,s]=(0,d.Dv)(t);return[i,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:i}),f=(()=>{const e=c??g;return x({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{f&&o(f)}),[f]);return{selectedValue:a,selectValue:(0,r.useCallback)((e=>{if(!x({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),p(e)}),[h,p,s]),tabValues:s}}var p=t(9136);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=t(74848);function v(e){let{className:n,block:t,selectedValue:r,selectValue:a,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const n=e.currentTarget,t=o.indexOf(n),i=l[t].value;i!==r&&(c(n),a(i))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},n),children:l.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{o.push(e)},onKeyDown:h,onClick:d,...s,className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:s}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function b(e){const n=g(e);return(0,m.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,m.jsx)(v,{...n,...e}),(0,m.jsx)(y,{...n,...e})]})}function w(e){const n=(0,p.A)();return(0,m.jsx)(b,{...e,children:h(e.children)},String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var r=t(96540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);